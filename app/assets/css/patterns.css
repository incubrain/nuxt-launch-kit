@source inline("i-pattern-{dots,grid,diagonal-lines,noise,triangles,circuit,hexagon,pyramids,plus}");

/* Pattern utilities that work with TV-set CSS variables */

/* 1. DOTS */
@utility i-pattern-dots {
  background-image: radial-gradient(
    circle, 
    color-mix(in srgb, var(--pattern-from) var(--pattern-opacity, 15%), transparent) var(--pattern-dot-size, 1px), 
    transparent var(--pattern-dot-size, 1px)
  );
  background-size: var(--pattern-size, 40px) var(--pattern-size, 40px);
}

/* 2. GRID */
@utility i-pattern-grid {
  background-image:
    linear-gradient(
      color-mix(in srgb, var(--pattern-from) var(--pattern-opacity, 15%), transparent) var(--pattern-stroke, 1px), 
      transparent var(--pattern-stroke, 1px)
    ),
    linear-gradient(
      90deg, 
      color-mix(in srgb, var(--pattern-from) var(--pattern-opacity, 15%), transparent) var(--pattern-stroke, 1px), 
      transparent var(--pattern-stroke, 1px)
    );
  background-size: var(--pattern-size, 40px) var(--pattern-size, 40px);
}

/* 3. PLUS */
@utility i-pattern-plus {
  background-image:
    /* Center dot */
    radial-gradient(
      circle, 
      color-mix(in srgb, var(--pattern-from) var(--pattern-opacity, 15%), transparent) var(--pattern-stroke, 1px), 
      transparent var(--pattern-stroke, 1px)
    ),
    /* Vertical line */
    linear-gradient(
      color-mix(in srgb, var(--pattern-from) var(--pattern-opacity, 15%), transparent) var(--pattern-stroke, 1px), 
      transparent var(--pattern-stroke, 1px)
    ),
    /* Horizontal line */
    linear-gradient(
      90deg, 
      color-mix(in srgb, var(--pattern-from) var(--pattern-opacity, 15%), transparent) var(--pattern-stroke, 1px), 
      transparent var(--pattern-stroke, 1px)
    );
  background-size: var(--pattern-size, 40px) var(--pattern-size, 40px);
  background-position: center, center, center;
  background-repeat: no-repeat, repeat-y, repeat-x;
}

/* 4. DIAGONAL LINES */
@utility i-pattern-diagonal-lines {
  background-image: repeating-linear-gradient(
    var(--pattern-direction, 45deg),
    color-mix(in srgb, var(--pattern-from) var(--pattern-opacity, 15%), transparent),
    color-mix(in srgb, var(--pattern-from) var(--pattern-opacity, 15%), transparent) var(--pattern-stroke, 1px),
    transparent var(--pattern-stroke, 1px),
    transparent var(--pattern-spacing, 20px)
  );
}

/* 5. NOISE */
@utility i-pattern-noise {
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 250 250' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' fill='currentColor'/%3E%3C/svg%3E");
  background-size: auto;
  color: var(--pattern-from);
  opacity: calc(var(--pattern-opacity, 15%) / 100);
}

/* 6. TRIANGLES */
@utility i-pattern-triangles {
  --triangle-color: color-mix(in srgb, var(--pattern-from) var(--pattern-opacity, 15%), transparent);
  --triangle-size: var(--pattern-size, 40px);
  --triangle-height: calc(var(--triangle-size) * 0.866);

  background-image:
    repeating-linear-gradient(
      30deg, 
      transparent, 
      transparent calc(50% - var(--pattern-stroke, 1px)), 
      var(--triangle-color) calc(50% - var(--pattern-stroke, 1px)), 
      var(--triangle-color) calc(50% + var(--pattern-stroke, 1px)), 
      transparent calc(50% + var(--pattern-stroke, 1px))
    ),
    repeating-linear-gradient(
      150deg, 
      transparent, 
      transparent calc(50% - var(--pattern-stroke, 1px)), 
      var(--triangle-color) calc(50% - var(--pattern-stroke, 1px)), 
      var(--triangle-color) calc(50% + var(--pattern-stroke, 1px)), 
      transparent calc(50% + var(--pattern-stroke, 1px))
    ),
    repeating-linear-gradient(
      270deg, 
      transparent, 
      transparent calc(50% - var(--pattern-stroke, 1px)), 
      var(--triangle-color) calc(50% - var(--pattern-stroke, 1px)), 
      var(--triangle-color) calc(50% + var(--pattern-stroke, 1px)), 
      transparent calc(50% + var(--pattern-stroke, 1px))
    );
  background-size: var(--triangle-size) var(--triangle-height);
}

/* 7. PYRAMIDS */
@utility i-pattern-pyramids {
  background-image:
    linear-gradient(
      45deg, 
      color-mix(in srgb, var(--pattern-from) calc(var(--pattern-opacity, 15%) * 0.5), transparent) 25%, 
      transparent 25%
    ),
    linear-gradient(
      -45deg, 
      color-mix(in srgb, var(--pattern-from) calc(var(--pattern-opacity, 15%) * 0.5), transparent) 25%, 
      transparent 25%
    ),
    linear-gradient(
      45deg, 
      transparent 75%, 
      color-mix(in srgb, var(--pattern-from) var(--pattern-opacity, 15%), transparent) 75%
    ),
    linear-gradient(
      -45deg, 
      transparent 75%, 
      color-mix(in srgb, var(--pattern-from) var(--pattern-opacity, 15%), transparent) 75%
    );
  background-size: var(--pattern-size, 40px) var(--pattern-size, 40px);
}

/* 8. CIRCUIT */
@utility i-pattern-circuit {
  --circuit-line: color-mix(in srgb, var(--pattern-from) calc(var(--pattern-opacity, 15%) * 0.5), transparent);
  --circuit-dot: color-mix(in srgb, var(--pattern-from) var(--pattern-opacity, 15%), transparent);
  
  background-image:
    /* Dots at intersections */
    radial-gradient(
      circle at center, 
      var(--circuit-dot) var(--pattern-dot-size, 1.5px), 
      transparent var(--pattern-dot-size, 1.5px)
    ),
    /* Horizontal and Vertical lines */
    linear-gradient(
      var(--circuit-line) var(--pattern-stroke, 1px), 
      transparent var(--pattern-stroke, 1px)
    ),
    linear-gradient(
      90deg, 
      var(--circuit-line) var(--pattern-stroke, 1px), 
      transparent var(--pattern-stroke, 1px)
    );
  background-size:
    calc(var(--pattern-size, 40px) / 2) calc(var(--pattern-size, 40px) / 2),
    var(--pattern-size, 40px) var(--pattern-size, 40px),
    var(--pattern-size, 40px) var(--pattern-size, 40px);
}

/* 9. HEXAGON */
@utility i-pattern-hexagon {
  --hex-color: color-mix(in srgb, var(--pattern-from) var(--pattern-opacity, 15%), transparent);
  --hex-size: var(--pattern-size, 40px);
  --hex-height: calc(var(--hex-size) * 0.866025);

  background-image:
    repeating-linear-gradient(
      60deg,  
      var(--hex-color), 
      var(--hex-color) var(--pattern-stroke, 1px), 
      transparent var(--pattern-stroke, 1px), 
      transparent 50%
    ),
    repeating-linear-gradient(
      -60deg, 
      var(--hex-color), 
      var(--hex-color) var(--pattern-stroke, 1px), 
      transparent var(--pattern-stroke, 1px), 
      transparent 50%
    ),
    linear-gradient(
      to right, 
      var(--hex-color), 
      var(--hex-color) var(--pattern-stroke, 1px), 
      transparent var(--pattern-stroke, 1px)
    );
  background-size: calc(var(--hex-size) * 0.5) var(--hex-height);
}